library(conflicted)
library(here)
library(janitor)
library(tidyverse)
library(tidymodels)
library(workflows)
library(vroom)
library(skimr)
titanic <- vroom("input/train.csv", .name_repair = make_clean_names)
skim(titanic)
# train test split
train_test_splits <- initial_split(titanic, prop = 0.75)
training_data <- training(train_test_splits)
testing_data <- testing(train_test_splits)
mr <- c("Don", "Major", "Capt", "Jonkheer", "Rev", "Col", "Sir")
miss <- c("Mlle", "Ms")
mrs <- c("Countess", "Mme", "Lady")
rec <- recipe( ~ ., data = training_data) %>%
step_mutate(
title = str_extract(name, "\\w+?(?=\\.)"),
title = case_when(
title %in% mr ~ "Mr",
title %in% miss ~ "Miss",
title %in% mrs ~ "Mrs",
title == "Dr" & sex == "male" ~ "Mr",
title == "Dr" & sex == "female" ~ "Mrs",
TRUE ~ title),
cabin_letter = str_remove_all(cabin, "[^a-zA-Z]")
) %>%
step_bagimpute(age, impute_with = "title") %>%
step_dummy(all_nominal(), one_hot = F)
prepped <- prep(rec, training = training_data)
rec_train <- juice(prepped)
View(rec_train)
?step_dummy
cat <- c("embarked", "sex")
rec <- recipe( ~ ., data = training_data) %>%
step_mutate(
title = str_extract(name, "\\w+?(?=\\.)"),
title = case_when(
title %in% mr ~ "Mr",
title %in% miss ~ "Miss",
title %in% mrs ~ "Mrs",
title == "Dr" & sex == "male" ~ "Mr",
title == "Dr" & sex == "female" ~ "Mrs",
TRUE ~ title),
cabin_letter = str_remove_all(cabin, "[^a-zA-Z]")
) %>%
step_bagimpute(age, impute_with = "title") %>%
step_dummy(cat, one_hot = F)
prepped <- prep(rec, training = training_data)
rec_train <- juice(prepped)
View(rec_train)
install.packages(c("pbkrtest", "plm", "sp", "vctrs"))
install.packages("SQUAREM")
install.packages(c("digest", "modelr", "mvtnorm"))
install.packages("mvtnorm")
install.packages("mvtnorm")
install.packages("mvtnorm")
install.packages("mvtnorm")
install.packages("mvtnorm")
tuesdata <- tidytuesdayR::tt_load('2020-01-07')
rainfall <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/rainfall.csv')
temperature <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/temperature.csv')
View(rainfall)
View(temperature)
View(rainfall)
View(temperature)
View(rainfall)
nasa_fire <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-07/MODIS_C6_Australia_and_New_Zealand_7d.csv')
View(nasa_fire)
food_consumption <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-18/food_consumption.csv')
View(food_consumption)
unique(food_consumption$country)
unique(food_consumption$food_category)
sf_trees <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-28/sf_trees.csv')
View(sf_trees)
unique(sf_trees$legal_status)
unique(sf_trees$species)
spotify_songs <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-21/spotify_songs.csv')
View(spotify_songs)
install.packages("coronavirus")
unique(spotify_songs$danceability)
unique(spotify_songs$playlist_name)
unique(spotify_songs$playlist_genre)
unique(spotify_songs$playlist_subgenre)
ramen_ratings <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-06-04/ramen_ratings.csv")
View(ramen_ratings)
unique(ramen_ratings$brand)
unique(ramen_ratings$variety)
unique(ramen_ratings$style)
unique(ramen_ratings$country)
unique(ramen_ratings$stars)
unique(ramen_ratings$review_number)
emperors <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-08-13/emperors.csv")
View(emperors)
small_trains <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-02-26/small_trains.csv")
View(small_trains)
ufo_sightings <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-06-25/ufo_sightings.csv")
View(ufo_sightings)
phd_field <- readr::read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-02-19/phd_by_field.csv")
View(phd_field)
sum(is.na(phd_field))
View(ramen_ratings)
View(spotify_songs)
sum(is.na(small_trains))
